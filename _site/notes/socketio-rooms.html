<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Socket.io and Rooms</title><meta name="twitter:card" content="summary" /><meta name="twitter:site" content="@" /><meta name="twitter:title" content="Socket.io and Rooms" /><meta name="twitter:description" content="Using socket.io on the server side, we have the ability to emit an event to a particular socket, even outside of an event-emitter from that socket, if we know the id of the socket we are emitting t..."><meta name="description" content="Using socket.io on the server side, we have the ability to emit an event to a particular socket, even outside of an event-emitter from that socket, if we kno..."><link rel="icon" href="/assets/favicon.png"><link rel="apple-touch-icon" href="/assets/touch-icon.png"><link rel="stylesheet" href="//code.cdn.mozilla.net/fonts/fira.css"><link rel="stylesheet" href="/assets/core.css"><link rel="canonical" href="/notes/socketio-rooms"><link rel="alternate" type="application/atom+xml" title="Everything JS" href="/feed.xml" /></head><body><aside class="logo"> <a href="/"> <img src="http://i.imgur.com/lXpakuT.jpg?1" class="gravatar" width="80px"> </a> <span class="logo-prompt">Back to Home</span></aside><main> <noscript><style> article .footnotes { display: block; }</style></noscript><article><div class="center"><h1>Socket.io and Rooms</h1><time>January 29, 2016</time></div><div class="divider"></div><p>Using socket.io on the server side, we have the ability to emit an event to a particular socket, even outside of an event-emitter from that socket, if we know the id of the socket we are emitting to. Suppose the socket id is <code>'7s6df58sg9as567d'</code>, one might logically conclude that this syntax would work:</p><pre><code class="language-javascript">var io = require('socket.io').listen(server);
io.to('7s6df58sg9as567d').emit('MESSAGE');
</code></pre><p>There is a caveat here, plugging this string into <code>some_socket_id</code> will throw an error.</p><p>For individual sockets, it is necessary to add /# in front of the socket id:</p><pre><code class="language-javascript">io.to('/#7s6df58sg9as567d').emit('MESSAGE');
</code></pre><p>Alternatively, if we wanted to emit a message to a room, the /# is not needed, and would take the following form:</p><pre><code class="language-javascript">io.to('ROOM_NAME').emit('MESSAGE');
</code></pre><p>Now you know, not to spend far too much time trying to debug this error should you run into it.</p></article><div class="back"> <a href="/">Back</a></div></main></body></html>