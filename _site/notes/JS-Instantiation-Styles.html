<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1" /><title>JS Functional Instantiation Styles</title><meta name="twitter:card" content="summary" /><meta name="twitter:site" content="@" /><meta name="twitter:title" content="JS Functional Instantiation Styles" /><meta name="twitter:description" content="The key that helps me keeps track of the four ways of functional class creation is thinking of it as an evoltuion:"><meta name="description" content="The key that helps me keeps track of the four ways of functional class creation is thinking of it as an evoltuion:"><link rel="icon" href="/assets/favicon.png"><link rel="apple-touch-icon" href="/assets/touch-icon.png"><link rel="stylesheet" href="//code.cdn.mozilla.net/fonts/fira.css"><link rel="stylesheet" href="/assets/core.css"><link rel="canonical" href="/notes/JS-Instantiation-Styles"><link rel="alternate" type="application/atom+xml" title="Everything JS" href="/feed.xml" /></head><body><aside class="logo"> <a href="/"> <img src="http://i.imgur.com/lXpakuT.jpg?1" class="gravatar" width="80px"> </a> <span class="logo-prompt">Back to Home</span></aside><main> <noscript><style> article .footnotes { display: block; }</style></noscript><article><div class="center"><h1>JS Functional Instantiation Styles</h1><time>December 4, 2015</time></div><div class="divider"></div><p>The key that helps me keeps track of the four ways of functional class creation is thinking of it as an evoltuion:</p><p>functional -&gt; functional shared -&gt; prototypal -&gt; pseudoclassical</p><p>The simplest and easiest to understand is functional, which look like this:</p><h3 id="functional-instantiation">Functional Instantiation</h3><div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">inputName</span><span class="p">,</span> <span class="nx">inputAge</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">newPerson</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="nx">name</span><span class="p">,</span>
    <span class="na">age</span><span class="p">:</span> <span class="nx">age</span><span class="p">,</span>
    <span class="na">sayHi</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="s1">'Hello, my name is '</span> <span class="o">+</span> <span class="nx">name</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">};</span>
  <span class="k">return</span> <span class="nx">newPerson</span>
 <span class="p">};</span>
</code></pre></div><p>A downside to this style is that each time a person object gets created, the sayHi method also get created. That’s not very space efficient.</p><p>A better way to do is to make the sayHi method, or any other method, be a pointer to a function, so that when multiple person objects are created, the sayHi method isn’t created multiple times, and instead, only once. Here’s an example of how to achieve this:</p><h3 id="functional-shared-instantiation">Functional Shared Instantiation</h3><div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">newPerson</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">name</span><span class="p">:</span> <span class="nx">name</span><span class="p">,</span>
    <span class="na">age</span><span class="p">:</span> <span class="nx">age</span>
  <span class="p">};</span>
  <span class="nx">extend</span><span class="p">(</span><span class="nx">newPerson</span><span class="p">,</span> <span class="nx">sayHi</span><span class="p">);</span>
  <span class="k">return</span> <span class="nx">newPerson</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">sayHi</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'Hello, my name is '</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div><p>The above code uses the “functional shared instantiation” style, which allows multiple instances of person object share the sayHi method, rather than each having their own distinct, yet redundant method. This style necessitates the use of the keyword “this” and a common function “extend”</p><p>The <code class="highlighter-rouge">extend</code> function is really simply telling the person function that there are more things, like methods, that aren’t defined here, and may be defined elsewhere. So Javascript has a way of adding methods to a function by using <code class="highlighter-rouge">Object.create</code> like below, which we call the prototypal instantiation style</p><h3 id="prototypal-instantiation">Prototypal Instantiation</h3><div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">newPerson</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">personMethods</span><span class="p">);</span>
  <span class="nx">newPerson</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
  <span class="nx">newPerson</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">newPerson</span><span class="p">;</span>
<span class="p">};</span>

<span class="kd">var</span> <span class="nx">personMethods</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">personMethods</span><span class="p">.</span><span class="nx">sayHi</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'Hello, my name is '</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="p">};</span>
</code></pre></div><p>Object.create effectively replaces extend in the above example. It’s important to be aware though, that Object.create and extend do very different things in the background, but for learning purposes, can be seen as an evolution from a simple way of life to a more advanced and powerful life. For me, this progression helps keep the various styles separated while diving deeper into the underlying mechanics of “this” assignment, prototype chains, etc.</p><p>The above code could’ve also been written as:</p><div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">newPerson</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">create</span><span class="p">(</span><span class="nx">person</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">Methods</span><span class="p">);</span>
  <span class="nx">newPerson</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
  <span class="nx">newPerson</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">;</span>
  <span class="k">return</span> <span class="nx">newPerson</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">person</span><span class="p">.</span><span class="nx">prototype</span> <span class="o">=</span> <span class="p">{};</span>
<span class="nx">person</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">sayHi</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'Hello, my name is '</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><p>Now, we notice that both the prototype and functional shared instantiation styles have a line of code to extend methods, as well as a line of code to return the newPerson. Javascript provides an even more evolved style, called pseudoclassical instantiation style, which does the method extension as well as the return for us:</p><h3 id="pseudoclassical-instantiation">Pseudoclassical Instantiation</h3><div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">person</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">age</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">name</span><span class="p">;</span>
  <span class="k">this</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="nx">age</span><span class="p">;</span>
<span class="p">}</span>

<span class="nx">person</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">sayHi</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="s1">'Hello, my name is '</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">name</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><p>The above code is short and to the point, and often popular with CS ninjas who are familiar with object oriented programming.</p><p>That’s it! That’s the evolution of function instantiation styles from the primordial ooze to hyper-intelligent beings.</p></article><div class="back"> <a href="/">Back</a></div></main></body></html>